<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>كرونوس - بوابة الزمن 2026</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Kufi+Arabic:wght@300;400;500;600;700&family=Scheherazade+New:wght@400;500;600&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.min.js"></script>
    <style>
        :root {
            --primary-dark: #0a0a1a;
            --primary-blue: #1a237e;
            --accent-blue: #283593;
            --light-blue: #3949ab;
            --glow-blue: #5c6bc0;
            --energy-blue: #8c9eff;
            --gold-accent: #ffd700;
            --silver-accent: #e0e0e0;
            --text-primary: #ffffff;
            --text-secondary: #b0b0b0;
            --neon-glow: 0 0 10px var(--energy-blue), 0 0 20px var(--energy-blue), 0 0 30px var(--energy-blue);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Noto Kufi Arabic', sans-serif;
            background: radial-gradient(ellipse at center, #000428 0%, #0a0a1a 70%);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
            line-height: 1.6;
        }
        
        /* خلفية الكون المتحركة */
        .universe-bg {
            position: fixed;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 30%, rgba(26, 35, 126, 0.15) 0%, transparent 40%),
                radial-gradient(circle at 80% 70%, rgba(92, 107, 192, 0.1) 0%, transparent 40%),
                radial-gradient(circle at 40% 50%, rgba(140, 158, 255, 0.08) 0%, transparent 30%);
            z-index: -3;
        }
        
        /* شبكة الزمكان */
        .space-time-grid {
            position: fixed;
            top: 0;
            right: 0;
            width: 200%;
            height: 200%;
            background-image: 
                linear-gradient(rgba(140, 158, 255, 0.05) 1px, transparent 1px),
                linear-gradient(90deg, rgba(140, 158, 255, 0.05) 1px, transparent 1px);
            background-size: 50px 50px;
            animation: gridMove 20s linear infinite;
            z-index: -2;
            opacity: 0.3;
        }
        
        @keyframes gridMove {
            0% { transform: translate(0, 0); }
            100% { transform: translate(50px, 50px); }
        }
        
        /* جسيمات الطاقة */
        #energy-particles {
            position: fixed;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }
        
        /* الهيدر */
        .header {
            padding: 2rem 1rem;
            text-align: center;
            position: relative;
            z-index: 100;
        }
        
        .logo-container {
            position: relative;
            display: inline-block;
            margin-bottom: 1.5rem;
        }
        
        .logo {
            font-family: 'Scheherazade New', serif;
            font-size: 3.5rem;
            font-weight: 700;
            color: transparent;
            background: linear-gradient(45deg, var(--gold-accent), var(--energy-blue), var(--gold-accent));
            -webkit-background-clip: text;
            background-clip: text;
            letter-spacing: 2px;
            position: relative;
        }
        
        .logo-glow {
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(ellipse at center, var(--energy-blue) 0%, transparent 70%);
            filter: blur(20px);
            opacity: 0.5;
            z-index: -1;
            animation: logoPulse 3s ease-in-out infinite alternate;
        }
        
        @keyframes logoPulse {
            0% { opacity: 0.3; transform: scale(1); }
            100% { opacity: 0.7; transform: scale(1.1); }
        }
        
        .tagline {
            font-size: 1.2rem;
            color: var(--text-secondary);
            margin-top: 0.5rem;
            font-weight: 300;
        }
        
        .tagline .highlight {
            color: var(--gold-accent);
            font-weight: 500;
        }
        
        /* المحتوى الرئيسي */
        .main-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 1rem;
            position: relative;
            z-index: 50;
        }
        
        /* حاوية كرونوس */
        .chronos-container {
            position: relative;
            width: 100%;
            max-width: 400px;
            height: 600px;
            margin: 2rem auto;
            perspective: 1000px;
        }
        
        /* تصميم كرونوس */
        .chronos {
            position: absolute;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
            transition: transform 1s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
        
        /* الهيكل الأساسي */
        .chronos-structure {
            position: absolute;
            width: 100%;
            height: 100%;
            background: linear-gradient(145deg, var(--primary-blue), var(--accent-blue));
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 
                0 0 30px rgba(26, 35, 126, 0.8),
                inset 0 0 40px rgba(140, 158, 255, 0.3);
            border: 3px solid var(--light-blue);
        }
        
        /* النقوش العربية الجانبية */
        .arabic-inscription {
            position: absolute;
            top: 20%;
            right: 10px;
            writing-mode: vertical-rl;
            text-orientation: mixed;
            color: var(--gold-accent);
            font-family: 'Scheherazade New', serif;
            font-size: 1.2rem;
            opacity: 0.7;
            z-index: 2;
        }
        
        .arabic-inscription.left {
            right: auto;
            left: 10px;
        }
        
        /* السطح العلوي */
        .chronos-roof {
            position: absolute;
            top: -25px;
            right: 50%;
            transform: translateX(50%);
            width: 110%;
            height: 60px;
            background: linear-gradient(to bottom, var(--accent-blue), #151f52);
            clip-path: polygon(15% 0, 85% 0, 100% 100%, 0% 100%);
            z-index: 2;
        }
        
        /* الكريستال الطاقي */
        .energy-crystal {
            position: absolute;
            top: -40px;
            right: 50%;
            transform: translateX(50%);
            width: 25px;
            height: 40px;
            background: linear-gradient(to bottom, var(--energy-blue), var(--glow-blue));
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
            box-shadow: var(--neon-glow);
            animation: crystalPulse 2s infinite alternate;
            z-index: 3;
        }
        
        @keyframes crystalPulse {
            0% { 
                filter: brightness(1);
                box-shadow: 0 0 10px var(--energy-blue), 0 0 20px var(--energy-blue);
            }
            100% { 
                filter: brightness(1.5);
                box-shadow: 0 0 20px var(--energy-blue), 0 0 40px var(--energy-blue), 0 0 60px var(--energy-blue);
            }
        }
        
        /* اللوحة الأمامية */
        .chronos-panel {
            position: absolute;
            top: 60px;
            right: 50%;
            transform: translateX(50%);
            width: 70%;
            height: 80px;
            background: rgba(0, 0, 0, 0.6);
            border: 2px solid var(--gold-accent);
            border-radius: 8px;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 4;
            backdrop-filter: blur(5px);
        }
        
        .panel-text {
            color: var(--gold-accent);
            font-family: 'Scheherazade New', serif;
            font-size: 1.3rem;
            font-weight: 600;
            text-align: center;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }
        
        /* الواجهات الزجاجية */
        .chronos-interfaces {
            position: absolute;
            width: 100%;
            height: 35%;
            top: 30%;
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr;
            gap: 15px;
            padding: 0 25px;
            z-index: 3;
        }
        
        .interface {
            background: linear-gradient(135deg, rgba(57, 73, 171, 0.9), rgba(140, 158, 255, 0.7));
            border: 2px solid var(--light-blue);
            border-radius: 6px;
            position: relative;
            overflow: hidden;
            box-shadow: 
                inset 0 0 20px rgba(255, 255, 255, 0.3),
                0 0 15px rgba(92, 107, 192, 0.5);
        }
        
        .interface::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 50%;
            background: linear-gradient(to bottom, rgba(255, 255, 255, 0.2), transparent);
        }
        
        .interface::after {
            content: '';
            position: absolute;
            top: 50%;
            right: 50%;
            transform: translate(50%, -50%);
            width: 80%;
            height: 2px;
            background: var(--accent-blue);
            box-shadow: 0 0 5px var(--energy-blue);
        }
        
        /* البوابات */
        .chronos-gates {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 40%;
            display: flex;
            z-index: 5;
        }
        
        .gate {
            flex: 1;
            background: linear-gradient(to bottom, var(--primary-blue), var(--accent-blue));
            border: 2px solid var(--light-blue);
            position: relative;
            transition: transform 1.2s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            overflow: hidden;
        }
        
        .gate.left {
            border-left: none;
            border-top-left-radius: 10px;
            transform-origin: right center;
        }
        
        .gate.right {
            border-right: none;
            border-top-right-radius: 10px;
            transform-origin: left center;
        }
        
        .gate-pattern {
            position: absolute;
            width: 100%;
            height: 100%;
            background: 
                repeating-linear-gradient(
                    45deg,
                    transparent,
                    transparent 10px,
                    rgba(140, 158, 255, 0.1) 10px,
                    rgba(140, 158, 255, 0.1) 20px
                );
        }
        
        .gate-handle {
            position: absolute;
            top: 50%;
            width: 12px;
            height: 35px;
            background: linear-gradient(to right, var(--gold-accent), #ffed4e);
            border-radius: 6px;
            transform: translateY(-50%);
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.7);
        }
        
        .gate.left .gate-handle {
            left: 20px;
        }
        
        .gate.right .gate-handle {
            right: 20px;
        }
        
        /* دوامة الزمن */
        .time-vortex {
            position: absolute;
            top: 50%;
            right: 50%;
            transform: translate(50%, -50%);
            width: 0;
            height: 0;
            border-radius: 50%;
            background: radial-gradient(circle, var(--energy-blue) 0%, transparent 70%);
            opacity: 0;
            filter: blur(25px);
            z-index: 6;
            pointer-events: none;
        }
        
        /* رموز الطاقة */
        .energy-symbols {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }
        
        .symbol {
            position: absolute;
            color: var(--energy-blue);
            font-size: 1.8rem;
            opacity: 0.4;
            animation: symbolOrbit 25s linear infinite;
        }
        
        @keyframes symbolOrbit {
            0% {
                transform: rotate(0deg) translateX(150px) rotate(0deg);
            }
            100% {
                transform: rotate(360deg) translateX(150px) rotate(-360deg);
            }
        }
        
        /* لوحة المعلومات */
        .info-panel {
            margin-top: 2.5rem;
            text-align: center;
            max-width: 700px;
            padding: 1.5rem;
            background: rgba(10, 10, 26, 0.7);
            border-radius: 15px;
            border: 1px solid rgba(140, 158, 255, 0.2);
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }
        
        .info-title {
            font-family: 'Scheherazade New', serif;
            font-size: 1.8rem;
            color: var(--gold-accent);
            margin-bottom: 1rem;
        }
        
        .info-text {
            color: var(--text-secondary);
            line-height: 1.8;
            font-size: 1.1rem;
        }
        
        /* أدوات التحكم */
        .controls-container {
            position: fixed;
            bottom: 2rem;
            right: 50%;
            transform: translateX(50%);
            display: flex;
            gap: 1rem;
            z-index: 100;
            background: rgba(15, 20, 40, 0.9);
            padding: 1rem 1.5rem;
            border-radius: 50px;
            border: 1px solid rgba(140, 158, 255, 0.3);
            backdrop-filter: blur(15px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }
        
        .control-btn {
            width: 55px;
            height: 55px;
            border-radius: 50%;
            background: linear-gradient(135deg, rgba(57, 73, 171, 0.3), rgba(140, 158, 255, 0.1));
            border: 2px solid rgba(140, 158, 255, 0.4);
            color: var(--energy-blue);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.4rem;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .control-btn::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--energy-blue), var(--light-blue));
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: -1;
        }
        
        .control-btn:hover {
            transform: translateY(-5px) scale(1.1);
            box-shadow: 0 10px 20px rgba(140, 158, 255, 0.3);
            color: var(--primary-dark);
            border-color: transparent;
        }
        
        .control-btn:hover::before {
            opacity: 1;
        }
        
        .control-btn.active {
            background: linear-gradient(135deg, var(--energy-blue), var(--light-blue));
            color: var(--primary-dark);
            box-shadow: 0 0 25px rgba(140, 158, 255, 0.6);
        }
        
        .control-tooltip {
            position: absolute;
            bottom: 100%;
            right: 50%;
            transform: translateX(50%);
            background: rgba(0, 0, 0, 0.9);
            color: var(--text-primary);
            padding: 0.5rem 1rem;
            border-radius: 5px;
            font-size: 0.9rem;
            white-space: nowrap;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
            z-index: 101;
            border: 1px solid var(--energy-blue);
        }
        
        .control-btn:hover .control-tooltip {
            opacity: 1;
        }
        
        /* التذييل */
        .footer {
            position: fixed;
            bottom: 0;
            width: 100%;
            padding: 1rem 0;
            text-align: center;
            z-index: 40;
            background: linear-gradient(to top, rgba(10, 10, 26, 0.95), transparent);
        }
        
        .signature {
            font-family: 'Scheherazade New', serif;
            font-size: 1.2rem;
            color: var(--text-secondary);
            opacity: 0.9;
            transition: all 0.3s ease;
            display: inline-block;
            padding: 0.5rem 1.5rem;
            border-radius: 20px;
            background: rgba(140, 158, 255, 0.05);
            border: 1px solid rgba(140, 158, 255, 0.1);
        }
        
        .signature:hover {
            opacity: 1;
            background: rgba(140, 158, 255, 0.1);
            border-color: rgba(140, 158, 255, 0.3);
            transform: translateY(-2px);
        }
        
        /* لوحة التعليمات */
        .instructions {
            position: fixed;
            top: 2rem;
            left: 2rem;
            background: rgba(15, 20, 40, 0.9);
            padding: 1.2rem;
            border-radius: 15px;
            font-size: 0.9rem;
            color: var(--text-secondary);
            border: 1px solid rgba(140, 158, 255, 0.2);
            backdrop-filter: blur(15px);
            z-index: 100;
            max-width: 240px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.4);
        }
        
        .instructions-title {
            color: var(--energy-blue);
            font-size: 1rem;
            margin-bottom: 0.8rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            border-bottom: 1px solid rgba(140, 158, 255, 0.3);
            padding-bottom: 0.5rem;
        }
        
        .instructions i {
            color: var(--energy-blue);
            margin-left: 0.5rem;
            width: 16px;
            text-align: center;
        }
        
        .instructions p {
            margin: 0.7rem 0;
            display: flex;
            align-items: center;
        }
        
        /* شاشة التحميل */
        .loading-screen {
            position: fixed;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background: var(--primary-dark);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            transition: opacity 1s, visibility 1s;
        }
        
        .loader {
            width: 80px;
            height: 80px;
            border: 5px solid rgba(140, 158, 255, 0.2);
            border-radius: 50%;
            border-top-color: var(--energy-blue);
            border-bottom-color: var(--light-blue);
            animation: spin 1.5s ease-in-out infinite;
            margin-bottom: 1.5rem;
        }
        
        .loading-text {
            color: var(--text-secondary);
            font-size: 1rem;
            letter-spacing: 2px;
        }
        
        .loading-dots::after {
            content: '';
            animation: dots 1.5s steps(5, end) infinite;
        }
        
        @keyframes dots {
            0%, 20% { content: ''; }
            40% { content: '.'; }
            60% { content: '..'; }
            80%, 100% { content: '...'; }
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* التجاوب مع الأجهزة */
        @media (max-width: 768px) {
            .logo {
                font-size: 2.8rem;
            }
            
            .chronos-container {
                max-width: 320px;
                height: 500px;
            }
            
            .controls-container {
                padding: 0.8rem 1.2rem;
                gap: 0.8rem;
                bottom: 1rem;
            }
            
            .control-btn {
                width: 48px;
                height: 48px;
                font-size: 1.2rem;
            }
            
            .instructions {
                position: relative;
                top: auto;
                left: auto;
                margin: 2rem auto;
                max-width: 90%;
            }
            
            .info-panel {
                margin: 1.5rem;
                padding: 1.2rem;
            }
        }
        
        @media (max-width: 480px) {
            .logo {
                font-size: 2.2rem;
            }
            
            .chronos-container {
                max-width: 280px;
                height: 450px;
            }
            
            .controls-container {
                flex-wrap: wrap;
                justify-content: center;
                width: 95%;
                border-radius: 25px;
            }
            
            .info-text {
                font-size: 1rem;
            }
        }
        
        /* تأثيرات خاصة للعرض الكامل */
        @media (min-width: 1200px) {
            .chronos-container {
                max-width: 450px;
                height: 650px;
            }
            
            .logo {
                font-size: 4rem;
            }
        }
    </style>
</head>
<body>
    <!-- شاشة التحميل -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loader"></div>
        <div class="loading-text">جاري تهيئة أنظمة كرونوس<span class="loading-dots"></span></div>
    </div>
    
    <!-- خلفية الكون -->
    <div class="universe-bg"></div>
    <div class="space-time-grid"></div>
    <div id="energy-particles"></div>
    
    <!-- الهيدر -->
    <header class="header">
        <div class="logo-container">
            <div class="logo-glow"></div>
            <h1 class="logo">كرونوس</h1>
        </div>
        <div class="tagline">بوابة الزمن <span class="highlight">2026</span> - بداية جديدة عبر الأبعاد</div>
    </header>
    
    <!-- المحتوى الرئيسي -->
    <main class="main-content">
        <div class="chronos-container">
            <!-- رموز الطاقة -->
            <div class="energy-symbols" id="energySymbols"></div>
            
            <!-- دوامة الزمن -->
            <div class="time-vortex" id="timeVortex"></div>
            
            <!-- تصميم كرونوس -->
            <div class="chronos" id="chronos">
                <!-- الكريستال الطاقي -->
                <div class="energy-crystal"></div>
                
                <!-- السطح العلوي -->
                <div class="chronos-roof"></div>
                
                <!-- الهيكل الأساسي -->
                <div class="chronos-structure">
                    <!-- النقوش العربية -->
                    <div class="arabic-inscription">الباب إلى الأبدية</div>
                    <div class="arabic-inscription left">رحلة عبر الزمان</div>
                    
                    <!-- اللوحة الأمامية -->
                    <div class="chronos-panel">
                        <div class="panel-text">نظام الزمن المتعدد</div>
                    </div>
                    
                    <!-- الواجهات الزجاجية -->
                    <div class="chronos-interfaces">
                        <div class="interface"></div>
                        <div class="interface"></div>
                        <div class="interface"></div>
                        <div class="interface"></div>
                    </div>
                    
                    <!-- البوابات -->
                    <div class="chronos-gates">
                        <div class="gate left" id="leftGate">
                            <div class="gate-pattern"></div>
                            <div class="gate-handle"></div>
                        </div>
                        <div class="gate right" id="rightGate">
                            <div class="gate-pattern"></div>
                            <div class="gate-handle"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- لوحة المعلومات -->
        <div class="info-panel">
            <h3 class="info-title">كرونوس - عَبْرَ حُدودِ الزمان</h3>
            <p class="info-text">
                كرونوس ليس مجرد آلة زمن، بل هو بوابة إلى عوالم متعددة وأبعاد لا حصر لها. مصمم بتقنيات مستقبلية تجمع بين الحكمة القديمة والابتكار الحديث، يمثل كرونوس بداية رحلتك في عام 2026 نحو آفاق غير محدودة. كل تفصيل فيه يحكي قصة، وكل واجهة تفتح باباً إلى عالم جديد.
            </p>
        </div>
    </main>
    
    <!-- أدوات التحكم -->
    <div class="controls-container">
        <button class="control-btn" id="gatesBtn" title="فتح/إغلاق البوابات">
            <i class="fas fa-door-open"></i>
            <div class="control-tooltip">فتح/إغلاق البوابات</div>
        </button>
        <button class="control-btn active" id="lightsBtn" title="تشغيل/إطفاء الأنوار">
            <i class="fas fa-lightbulb"></i>
            <div class="control-tooltip">تشغيل/إطفاء الأنوار</div>
        </button>
        <button class="control-btn" id="vortexBtn" title="تفعيل دوامة الزمن">
            <i class="fas fa-infinity"></i>
            <div class="control-tooltip">تفعيل دوامة الزمن</div>
        </button>
        <button class="control-btn" id="soundBtn" title="تشغيل صوت الطاقة">
            <i class="fas fa-volume-up"></i>
            <div class="control-tooltip">تشغيل صوت الطاقة</div>
        </button>
        <button class="control-btn" id="rotateBtn" title="تدوير المشهد">
            <i class="fas fa-sync-alt"></i>
            <div class="control-tooltip">تدوير المشهد</div>
        </button>
        <button class="control-btn" id="fullscreenBtn" title="ملء الشاشة">
            <i class="fas fa-expand"></i>
            <div class="control-tooltip">ملء الشاشة</div>
        </button>
    </div>
    
    <!-- لوحة التعليمات -->
    <div class="instructions">
        <div class="instructions-title">
            <i class="fas fa-info-circle"></i> دليل التحكم
        </div>
        <p><i class="fas fa-mouse-pointer"></i> مرر الماوس للدوران</p>
        <p><i class="fas fa-door-open"></i> انقر لفتح البوابات</p>
        <p><i class="fas fa-lightbulb"></i> أزرار التحكم بالأسفل</p>
        <p><i class="fas fa-expand"></i> انقر مرتين لتكبير</p>
    </div>
    
    <!-- التذييل -->
    <footer class="footer">
        <div class="signature">نظام الزمن المتعدد © 2026</div>
    </footer>
    
    <!-- أصوات -->
    <audio id="energySound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-sci-fi-energy-969.mp3" type="audio/mpeg">
    </audio>
    
    <audio id="gateSound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-sci-fi-door-953.mp3" type="audio/mpeg">
    </audio>
    
    <audio id="vortexSound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-sci-fi-spaceship-engine-904.mp3" type="audio/mpeg">
    </audio>

    <script>
        // حالة نظام كرونوس
        const chronosState = {
            gatesOpen: false,
            lightsActive: true,
            vortexActive: false,
            soundEnabled: false,
            rotationEnabled: true,
            floating: true
        };

        // العناصر الصوتية
        const energySound = document.getElementById('energySound');
        const gateSound = document.getElementById('gateSound');
        const vortexSound = document.getElementById('vortexSound');

        // إنشاء جسيمات الطاقة باستخدام Three.js
        function createEnergyParticles() {
            const container = document.getElementById('energy-particles');
            const particlesCount = 200;
            
            for (let i = 0; i < particlesCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'energy-particle';
                
                // خصائص عشوائية للجسيمات
                const size = Math.random() * 4 + 1;
                const posX = Math.random() * 100;
                const posY = Math.random() * 100;
                const opacity = Math.random() * 0.5 + 0.1;
                const duration = Math.random() * 20 + 10;
                const delay = Math.random() * 5;
                
                // تطبيق الخصائص
                particle.style.cssText = `
                    position: absolute;
                    width: ${size}px;
                    height: ${size}px;
                    background: radial-gradient(circle, var(--energy-blue), transparent);
                    border-radius: 50%;
                    left: ${posX}%;
                    top: ${posY}%;
                    opacity: ${opacity};
                    filter: blur(${size/2}px);
                    pointer-events: none;
                `;
                
                // تحريك الجسيمات
                gsap.to(particle, {
                    x: `+=${(Math.random() - 0.5) * 200}px`,
                    y: `+=${(Math.random() - 0.5) * 200}px`,
                    rotation: Math.random() * 360,
                    duration: duration,
                    ease: "sine.inOut",
                    repeat: -1,
                    yoyo: true,
                    delay: delay
                });
                
                container.appendChild(particle);
            }
        }

        // إنشاء رموز الطاقة
        function createEnergySymbols() {
            const container = document.getElementById('energySymbols');
            const symbolsCount = 12;
            const symbols = ['✧', '✦', '✶', '✴', '✳', '⌬', '⧖', '⧗', '♆', '♄', '⚛', '⟡'];
            
            for (let i = 0; i < symbolsCount; i++) {
                const symbol = document.createElement('div');
                symbol.className = 'symbol';
                symbol.textContent = symbols[i % symbols.length];
                symbol.style.animationDuration = `${Math.random() * 15 + 20}s`;
                symbol.style.animationDelay = `${Math.random() * 5}s`;
                symbol.style.fontSize = `${Math.random() * 1 + 1.2}rem`;
                
                container.appendChild(symbol);
            }
        }

        // إعداد أدوات التحكم
        function setupControls() {
            const gatesBtn = document.getElementById('gatesBtn');
            const lightsBtn = document.getElementById('lightsBtn');
            const vortexBtn = document.getElementById('vortexBtn');
            const soundBtn = document.getElementById('soundBtn');
            const rotateBtn = document.getElementById('rotateBtn');
            const fullscreenBtn = document.getElementById('fullscreenBtn');
            
            const leftGate = document.getElementById('leftGate');
            const rightGate = document.getElementById('rightGate');
            const interfaces = document.querySelectorAll('.interface');
            const crystal = document.querySelector('.energy-crystal');
            const chronos = document.getElementById('chronos');
            const timeVortex = document.getElementById('timeVortex');

            // زر البوابات
            gatesBtn.addEventListener('click', function() {
                if (chronosState.gatesOpen) {
                    // إغلاق البوابات
                    gsap.to(leftGate, {
                        rotationY: 0,
                        duration: 1.2,
                        ease: "back.out(1.7)"
                    });
                    
                    gsap.to(rightGate, {
                        rotationY: 0,
                        duration: 1.2,
                        ease: "back.out(1.7)"
                    });
                    
                    gatesBtn.querySelector('i').className = 'fas fa-door-open';
                    gatesBtn.classList.remove('active');
                } else {
                    // فتح البوابات
                    gsap.to(leftGate, {
                        rotationY: -60,
                        duration: 1.5,
                        ease: "back.out(1.7)"
                    });
                    
                    gsap.to(rightGate, {
                        rotationY: 60,
                        duration: 1.5,
                        ease: "back.out(1.7)"
                    });
                    
                    gatesBtn.querySelector('i').className = 'fas fa-door-closed';
                    gatesBtn.classList.add('active');
                    
                    // تشغيل صوت البوابات
                    if (chronosState.soundEnabled) {
                        gateSound.currentTime = 0;
                        gateSound.play();
                    }
                }
                
                chronosState.gatesOpen = !chronosState.gatesOpen;
            });

            // زر الأنوار
            lightsBtn.addEventListener('click', function() {
                if (chronosState.lightsActive) {
                    // إطفاء الأنوار
                    gsap.to(interfaces, {
                        opacity: 0.2,
                        duration: 1,
                        ease: "power2.inOut"
                    });
                    
                    gsap.to(crystal, {
                        opacity: 0.3,
                        duration: 1,
                        ease: "power2.inOut"
                    });
                    
                    lightsBtn.classList.remove('active');
                } else {
                    // تشغيل الأنوار
                    gsap.to(interfaces, {
                        opacity: 1,
                        duration: 1,
                        ease: "power2.inOut"
                    });
                    
                    gsap.to(crystal, {
                        opacity: 1,
                        duration: 1,
                        ease: "power2.inOut"
                    });
                    
                    lightsBtn.classList.add('active');
                    
                    // تشغيل صوت الطاقة
                    if (chronosState.soundEnabled) {
                        energySound.currentTime = 0;
                        energySound.play();
                    }
                }
                
                chronosState.lightsActive = !chronosState.lightsActive;
            });

            // زر دوامة الزمن
            vortexBtn.addEventListener('click', function() {
                if (chronosState.vortexActive) {
                    // إيقاف الدوامة
                    gsap.to(timeVortex, {
                        opacity: 0,
                        scale: 0,
                        duration: 1,
                        ease: "power2.inOut"
                    });
                    
                    vortexBtn.classList.remove('active');
                    vortexSound.pause();
                } else {
                    // تفعيل الدوامة
                    gsap.to(timeVortex, {
                        opacity: 0.8,
                        scale: 1,
                        width: 400,
                        height: 400,
                        duration: 2,
                        ease: "power2.out",
                        onComplete: () => {
                            gsap.to(timeVortex, {
                                opacity: 0.4,
                                scale: 1.2,
                                duration: 1,
                                yoyo: true,
                                repeat: -1
                            });
                        }
                    });
                    
                    vortexBtn.classList.add('active');
                    
                    // تشغيل صوت الدوامة
                    if (chronosState.soundEnabled) {
                        vortexSound.currentTime = 0;
                        vortexSound.loop = true;
                        vortexSound.play();
                    }
                }
                
                chronosState.vortexActive = !chronosState.vortexActive;
            });

            // زر الصوت
            soundBtn.addEventListener('click', function() {
                chronosState.soundEnabled = !chronosState.soundEnabled;
                
                if (chronosState.soundEnabled) {
                    soundBtn.querySelector('i').className = 'fas fa-volume-mute';
                    soundBtn.classList.add('active');
                } else {
                    soundBtn.querySelector('i').className = 'fas fa-volume-up';
                    soundBtn.classList.remove('active');
                    energySound.pause();
                    gateSound.pause();
                    vortexSound.pause();
                }
            });

            // زر التدوير
            rotateBtn.addEventListener('click', function() {
                chronosState.rotationEnabled = !chronosState.rotationEnabled;
                
                if (chronosState.rotationEnabled) {
                    rotateBtn.classList.add('active');
                    gsap.to(chronos, {
                        rotationY: '+=360',
                        duration: 40,
                        repeat: -1,
                        ease: "none"
                    });
                } else {
                    rotateBtn.classList.remove('active');
                    gsap.killTweensOf(chronos);
                }
            });

            // زر ملء الشاشة
            fullscreenBtn.addEventListener('click', function() {
                if (!document.fullscreenElement) {
                    document.documentElement.requestFullscreen().catch(err => {
                        console.log(`خطأ في تفعيل ملء الشاشة: ${err.message}`);
                    });
                } else {
                    document.exitFullscreen();
                }
            });

            // تحديث زر ملء الشاشة عند التغيير
            document.addEventListener('fullscreenchange', () => {
                if (document.fullscreenElement) {
                    fullscreenBtn.querySelector('i').className = 'fas fa-compress';
                    fullscreenBtn.classList.add('active');
                } else {
                    fullscreenBtn.querySelector('i').className = 'fas fa-expand';
                    fullscreenBtn.classList.remove('active');
                }
            });

            // تأثير الطفو لكروتس
            gsap.to(chronos, {
                y: -15,
                duration: 3,
                yoyo: true,
                repeat: -1,
                ease: "sine.inOut"
            });

            // تفاعل عند المرور بالماوس
            chronos.addEventListener('mouseenter', () => {
                gsap.to(chronos, {
                    scale: 1.05,
                    duration: 0.5,
                    ease: "back.out(1.7)"
                });
            });

            chronos.addEventListener('mouseleave', () => {
                gsap.to(chronos, {
                    scale: 1,
                    duration: 0.5,
                    ease: "back.out(1.7)"
                });
            });

            // تأثير بارالاكس عند حركة الماوس
            document.addEventListener('mousemove', (e) => {
                if (!chronosState.rotationEnabled) {
                    const x = (e.clientX / window.innerWidth - 0.5) * 20;
                    const y = (e.clientY / window.innerHeight - 0.5) * 20;
                    
                    gsap.to(chronos, {
                        rotationY: x * 0.5,
                        rotationX: -y * 0.5,
                        duration: 1,
                        ease: "power2.out"
                    });
                }
            });

            // النقر على كرونوس لفتح البوابات
            chronos.addEventListener('click', function(e) {
                if (e.target.closest('.control-btn')) return;
                gatesBtn.click();
            });
        }

        // تهيئة الصفحة
        document.addEventListener('DOMContentLoaded', function() {
            // إنشاء المؤثرات البصرية
            createEnergyParticles();
            createEnergySymbols();
            
            // إعداد أدوات التحكم
            setupControls();
            
            // إخفاء شاشة التحميل
            setTimeout(() => {
                gsap.to('#loadingScreen', {
                    opacity: 0,
                    duration: 1,
                    ease: "power2.inOut",
                    onComplete: () => {
                        document.getElementById('loadingScreen').style.visibility = 'hidden';
                        
                        // تشغيل صوت ترحيبي خفيف
                        energySound.volume = 0.3;
                        energySound.currentTime = 0.5;
                        energySound.play();
                        
                        // إظهار رسالة ترحيبية
                        const welcomeMsg = document.createElement('div');
                        welcomeMsg.style.cssText = `
                            position: fixed;
                            top: 50%;
                            right: 50%;
                            transform: translate(50%, -50%);
                            background: rgba(10, 10, 26, 0.9);
                            color: var(--energy-blue);
                            padding: 1.5rem 2rem;
                            border-radius: 15px;
                            font-family: 'Scheherazade New', serif;
                            font-size: 1.2rem;
                            text-align: center;
                            border: 2px solid var(--energy-blue);
                            backdrop-filter: blur(10px);
                            z-index: 1000;
                            opacity: 0;
                        `;
                        welcomeMsg.innerHTML = 'مرحباً بك في نظام كرونوس<br><small>بوابة زمنية إلى المستقبل</small>';
                        document.body.appendChild(welcomeMsg);
                        
                        gsap.to(welcomeMsg, {
                            opacity: 1,
                            duration: 0.8,
                            yoyo: true,
                            repeat: 1,
                            onComplete: () => {
                                gsap.to(welcomeMsg, {
                                    opacity: 0,
                                    duration: 0.8,
                                    onComplete: () => welcomeMsg.remove()
                                });
                            }
                        });
                    }
                });
            }, 2000);
            
            // تفعيل التدوير التلقائي
            document.getElementById('rotateBtn').click();
        });
    </script>
</body>
</html>